2024-02-04 13:14:14,147 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'kombu.exceptions.OperationalError'>, OperationalError('Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.'), <traceback object at 0x000002599C806C40>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
2024-02-04 13:14:14,757 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599C91FFC0>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:14,894 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599C914B00>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:15,031 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599C91CAC0>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:15,151 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599C915400>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:15,326 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599D2C2240>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:15,699 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599B57EC40>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:15,897 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599D2C2A80>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:16,127 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599D27FD40>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:16,361 ERROR Internal Server Error: /posts/news/create/ C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py (<class 'TypeError'>, TypeError('expected str, bytes or os.PathLike object, not NoneType'), <traceback object at 0x000002599D2D3940>)
Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 127, in reconnect_on_error
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 177, in _consume_from
    self._pubsub.subscribe(key)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 916, in subscribe
    ret_val = self.execute_command("SUBSCRIBE", *new_channels.keys())
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 749, in execute_command
    self.connection = self.connection_pool.get_connection(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 264, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\retry.py", line 46, in call_with_retry
    return do()
           ^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 265, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 627, in _connect
    raise err
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 615, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [WinError 10061] Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 472, in _reraise_as_library_errors
    yield
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 798, in send_task
    self.backend.on_task_call(P, task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 373, in on_task_call
    self.result_consumer.consume_from(task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 169, in consume_from
    return self.start(task_id)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 147, in start
    self._consume_from(initial_task_id)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 176, in _consume_from
    with self.reconnect_on_error():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 130, in reconnect_on_error
    self._ensure(self._reconnect_pubsub, ())
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 384, in ensure
    return retry_over_time(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\utils\functional.py", line 318, in retry_over_time
    return fun(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\backends\redis.py", line 106, in _reconnect_pubsub
    metas = self.backend.client.mget(self.subscribed_to)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\commands\core.py", line 2015, in mget
    return self.execute_command("MGET", *args, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\client.py", line 533, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 1086, in get_connection
    connection.connect()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\redis\connection.py", line 270, in connect
    raise ConnectionError(self._error_message(e))
redis.exceptions.ConnectionError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\contrib\auth\mixins.py", line 109, in dispatch
    return super().dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\base.py", line 143, in dispatch
    return handler(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 182, in post
    return super().post(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 151, in post
    return self.form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\views.py", line 105, in form_valid
    return super().form_valid(form)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\views\generic\edit.py", line 133, in form_valid
    self.object = form.save()
                  ^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 552, in save
    self._save_m2m()
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\forms\models.py", line 533, in _save_m2m
    f.save_form_data(self.instance, cleaned_data[f.name])
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related.py", line 1979, in save_form_data
    getattr(instance, self.attname).set(data)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1299, in set
    self.add(*new_objs, through_defaults=through_defaults)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1200, in add
    self._add_items(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\db\models\fields\related_descriptors.py", line 1510, in _add_items
    signals.m2m_changed.send(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\NewsPaper\news\signals.py", line 21, in notify_about_new_post
    send_notifications.delay(instance.preview(), instance.pk, instance.title, subscribers_emails)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\task.py", line 594, in apply_async
    return app.send_task(
           ^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\celery\app\base.py", line 796, in send_task
    with P.connection._reraise_as_library_errors():
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\kombu\connection.py", line 476, in _reraise_as_library_errors
    raise ConnectionError(str(exc)) from exc
kombu.exceptions.OperationalError: Error 10061 connecting to localhost:6379. Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\allauth\account\middleware.py", line 14, in __call__
    response = self.get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\deprecation.py", line 134, in __call__
    response = response or self.get_response(request)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 57, in inner
    response = response_for_exception(request, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\handlers\exception.py", line 143, in response_for_exception
    log_response(
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 241, in log_response
    getattr(logger, level)(
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1634, in _log
    self.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1644, in handle
    self.callHandlers(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 1706, in callHandlers
    hdlr.handle(record)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2032.0_x64__qbz5n2kfra8p0\Lib\logging\__init__.py", line 978, in handle
    self.emit(record)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 128, in emit
    self.send_mail(subject, message, fail_silently=True, html_message=html_message)
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 132, in send_mail
    subject, message, *args, connection=self.connection(), **kwargs
                                        ^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\utils\log.py", line 136, in connection
    return get_connection(backend=self.email_backend, fail_silently=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\__init__.py", line 51, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\mail\backends\filebased.py", line 18, in __init__
    self.file_path = os.path.abspath(self.file_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen ntpath>", line 573, in abspath
  File "<frozen ntpath>", line 540, in normpath
TypeError: expected str, bytes or os.PathLike object, not NoneType
2024-02-04 13:14:16,756 ERROR "POST /posts/news/create/ HTTP/1.1" 500 59 C:\Users\lehas\OneDrive\Рабочий стол\django — копия\venv\Lib\site-packages\django\core\servers\basehttp.py None
